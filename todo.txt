add some tests

fix the errors?
add the error api
